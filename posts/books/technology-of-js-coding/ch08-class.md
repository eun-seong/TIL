---
title: Chap8. í´ë˜ìŠ¤ë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°„ê²°í•˜ê²Œ ìœ ì§€í•˜ë¼
docType: book
---

## [37] ì½ê¸° ì‰¬ìš´ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë¼
JavaScriptì˜ class ë¬¸ë²•ì€ es6ì— ìƒê²¨ë‚¬ë‹¤.

> class ì¸í„°í˜ì´ìŠ¤

```js
class Coupon {
  // ...
}
const coupon = new Coupon();
```

### ìƒì„±ì
```js
contructor()
```
* `this` contextë¥¼ ìƒì„±í•œë‹¤.
* ìƒì„±ì ë‚´ë¶€ì—ì„œ `this.ì†ì„±ì´ë¦„`ìœ¼ë¡œ ê°ì²´ ë‚´ë¶€ì˜ ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.


### `private` ì†ì„± ë° ë©”ì†Œë“œ
`#` ë¥¼ ì´ìš©í•˜ì—¬ í´ë˜ìŠ¤ì˜ private ì†ì„± ë° ë©”ì†Œë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

```js
class Coupon {
  #privateField;
  
  #privateMethod() {

  }
}
```

## [39] í´ë˜ìŠ¤ë¡œ ê¸°ì¡´ì˜ í”„ë¡œí† íƒ€ì…ì„ í™•ì¥í•˜ë¼
ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í”„ë¡œí† íƒ€ì… ì–¸ì–´ì´ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ë©”ì†Œë“œë¥¼ ë³µì œí•˜ì§€ ì•ŠëŠ”ë‹¤.
ëŒ€ì‹  í”„ë¡œí† íƒ€ì…ì— ëŒ€í•œ ì—°ê²°ì„ ìƒì„±í•œë‹¤.
ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ì— ìˆëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ í”„ë¡œí† íƒ€ì…ì— ìˆëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤.

### ìƒì„±ì í•¨ìˆ˜
ìƒì„±ì í•¨ìˆ˜ë¥¼ ë§Œë“œë ¤ë©´ í•¨ìˆ˜ëª…ì„ ëŒ€ë¬¸ìë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.
* ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ, `this` contextë¥¼ ë°”ì¸ë”©í•˜ì§€ë§Œ ë©”ì†Œë“œëŠ” ë³µì œí•˜ì§€ ì•ŠëŠ”ë‹¤.
* `class` ë¬¸ë²•ì€ ë‹¨ì§€ í”„ë¡œí† íƒ€ì…ì„ ì‚¬ìš©í•˜ì‹œ ìœ„í•œ ì†ê¸°ë²•ì¼ ë¿ì´ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— 2ê°€ì§€ ë°©ì‹ì´ í˜¸í™˜ëœë‹¤.
* ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ë¥¼ í”„ë¡œí† íƒ€ì…ì—ì„œ ì†ì„±ì„ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì—, ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œ í›„ì—ë„ ì¶”ê°€í•œ ë©”ì†Œë“œì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.


> `Coupon` í´ë˜ìŠ¤ì˜ ìƒì„±ì í•¨ìˆ˜ ë²„ì „

```js
function Coupon(price, expiration) {
  this.price = price;
  this.expiration = expiration || '2ì£¼';
}

const coupon = new Coupon(5, '2ê°œì›”');
coupon.price; // 5
```

> ìƒì„±ì í•¨ìˆ˜ë¥¼ `class`ë¡œ ìƒì† ë°›ê¸°
```js
class FlashCoupon extends Coupon {
  contructor(price) {
    super(price);
    // ...
  }
}
```



## [40] getê³¼ setìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ì–´ë¼
### `get`
```js
class Coupon {
  get priceText() {
    return `$ ${this.price}`;
  }
}

coupon.price = 10;
coupon.priceText; // $ 10
```
í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œë¥¼ ì„ ì–¸í•  ë•Œ ì„ í–‰ í‚¤ì›Œë“œë¡œ `get`ì„ ì‚¬ìš©í•˜ë©´ `getter`ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
ì‹¤ì œë¡œëŠ” ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ì§€ë§Œ ì†ì„±ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì²˜ëŸ¼ ì‘ë™í•œë‹¤.



### `set`
```js
class Coupon {
  set halfPrice(price) {
    this.price = price / 2;
  }
}

coupon.halfPrice = 20;
coupon.price; // 10
coupon.halfPrice; // undefined ğŸ’¡
```
í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œë¥¼ ì„ ì–¸í•  ë•Œ ì„ í–‰ í‚¤ì›Œë“œë¡œ `set`ì„ ì‚¬ìš©í•˜ë©´ `setter`ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
í•¨ìˆ˜ì— ì¸ìë¥¼ ì „ë‹¬í•˜ì—¬ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì†ì„±ì— ê°’ì„ ëŒ€ì…í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.
í•´ë‹¹ `setter`ì— ì ‘ê·¼í•˜ë ¤ê³  í•˜ë©´, `undefined`ê°€ ë…¸ì¶œëœë‹¤. 

ê·¸ë˜ì„œ ì¼ë°˜ì ìœ¼ë¡œëŠ” `getter`ì™€ `setter`ë¥¼ ê°™ì€ ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤.
ê·¸ë¦¬ê³  ê²Œí„°ë‚˜ ì„¸í„°ì˜ ì´ë¦„ê³¼ ê°™ì€ ì´ë¦„ì„ ê°€ì§„ ì†ì„±ì„ ì„ ì–¸í•  ìˆ˜ ì—†ë‹¤.(ì•„ë§ˆ ì´ê²Œ ê°€ëŠ¥í•˜ë‹¤ë©´ getí•  ë•Œ ì½œìŠ¤íƒì´ ì˜¤ë²„í”Œë¡œìš°ë  ê²ƒì´ë‹¤)

### `getter`ì™€ `setter`ë¥¼ ì‚¬ìš©í•˜ë©´
* ì¢‹ì€ ì 
  * ê¸°ì¡´ì˜ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•  í•„ìš”ê°€ ì—†ë‹¤.
  * ë³µì¡ë„ë¥¼ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤.
* ì•ˆì¢‹ì€ ì 
  * ì˜ë„ê¹Œì§€ í•¨ê»˜ ê°€ë ¤ì§„ë‹¤. ì‹¤ì œë¡œëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì§€ë§Œ ì†ì„±ì„ ì„¤ì •í•œë‹¤ê³  ìƒê°í•  ìˆ˜ë„ ìˆë‹¤.

`getter`ì™€ `setter`ë¥¼ ì‚¬ìš©í•˜ë©´ ë””ë²„ê¹…ë„ ì–´ë µê³  í…ŒìŠ¤íŠ¸í•˜ê¸°ë„ ì–´ë µë‹¤.
ê·¸ë˜ì„œ ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸ì™€ ë¬¸ì„œí™”ë¥¼ í†µí•´ ì˜ë„ë¥¼ ëª…í™•í•˜ê²Œ ì „ë‹¬í•˜ì!



### ë¹„ê³µê°œ ì†ì„±
ECMA 2023 ì—ëŠ” ë‚˜ì™€ìˆë‹¤!!! https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Private_class_fields

í•˜ì§€ë§Œ ì´ì „ ë²„ì „ì˜ ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ë¹„ê³µê°œ ì†ì„±ì„ ì„ ì–¸í•˜ëŠ” ë¬¸ë²•ì´ ì—†ìœ¼ë¯€ë¡œ, ì»¨ë²¤ì…˜ì„ ì§€ì¼œì¤˜ì•¼ í•œë‹¤.

ë³´í†µ ì†ì„±ì˜ ì•ì— `_`ê°€ ë¶™ìœ¼ë©´ ê±´ë“œë¦¬ì§€ ì•ŠëŠ” ê²Œ ì¢‹ë‹¤.
```js
class Coupon {
  contructor(price) {
    this._price = price;
  }

  get price() {
    return this._price;
  }

  set price(p) {
    const newPrice = price.toString().replace(/[^\d]/g, '');
    this._price = parseInt(newPrice, 10);
  }
}
```


## [41] ì œë„ˆë ˆì´í„°ë¡œ ì´í„°ëŸ¬ë¸” ì†ì„±ì„ ìƒì„±í•˜ë¼
`function*` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ **ì œë„ˆë ˆì´í„°**ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
* ì¥ì 
  * ë‹¤ë¥¸ ê°œë°œìë“¤ì´ í´ë˜ìŠ¤ì˜ ì„¸ë¶€ êµ¬í˜„ ë‚´ìš©ì„ ì•Œ í•„ìš”ê°€ ì—†ë‹¤.
* ë‹¨ì 
  * ë³µì¡ë„ë¥¼ ìˆ¨ê¹€ìœ¼ë¡œì¨ ë””ë²„ê¹…ì„ ë” ì–´ë µê²Œ ë§Œë“ ë‹¤.
* ì£¼ì˜í•  ì 
  * ë„ˆë¬´ ë§ì€ ê²ƒì„ ìˆ¨ê¸°ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•œë‹¤.



```js
function* getMusicList() {
  yield 'A';
  yield 'B';
  yield 'C';
}

[...getMusicList()]; // A, B, C
```

ê²Œë‹¤ê°€ `...` ì—°ì‚°ìë¡œ ë°°ì—´ë¡œ ë°”ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
```js
function* getId() {
  let cnt = 0;
  while(true){
    yield cnt++;
  }
}
console.log([...getId()])
```

ìœ„ ì½”ë“œ ê°™ì€ ê²½ìš° ë‹¹ì—°íˆ ë¬´í•œë£¨í”„ì— ê±¸ë¦°ë‹¤.

### iterableì´ í•„ìš”í•˜ë‹¤ë©´
```js
const iterable1 = {};

iterable1[Symbol.iterator] = function* () {
  yield 1;
  yield 2;
  yield 3;
};

console.log([...iterable1]);
```
`[Symbol.iterator]`ë¥¼ ì‚¬ìš©í•´ì„œ ê°ì²´ì— iteratorë¥¼ ë„£ì„ ìˆ˜ ìˆë‹¤.

```js
class FamilyTree() {
  * [Symbol.iterator]() { // ì£¼ëª©
    let cnt = 0;
    while(true) {
      yield this.ì–´ì©Œê³ [cnt++];
    }
  }
}
```
`* [Symbol.iterator]()` ë¥¼ ì‚¬ìš©í•´ì„œ í´ë˜ìŠ¤ì— iteratorë¥¼ ë„£ì„ ìˆ˜ ìˆë‹¤.

## [42] `bind()`ë¡œ ë¬¸ë§¥ ë¬¸ì œë¥¼ í•´ê²°í•˜ë¼
í´ë˜ìŠ¤ì—ì„œ ì†ì„±ì€ ìƒì„±ìì—ì„œ ì„¤ì •í•˜ê³ , ë©”ì†Œë“œëŠ” ë”°ë¡œ ìœ„ì¹˜í•œë‹¤. (ë©”ì†Œë“œëŠ” `[[Prototpe]]`ì— ì¡´ì¬í•œë‹¤)
ê·¸ë˜ì„œ í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œ ë‚´ì—ì„œ ë‹¤ë¥¸ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ë•Œ this ë°”ì¸ë”©ì´ ë°œìƒí•˜ì—¬ `this`ê°€ í´ë˜ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ê²Œ ë˜ì§€ ì•ŠëŠ”ë‹¤.
í•´ê²°í•  ë°©ë²•ì€
1. `this`ì— ì ‘ê·¼í•˜ëŠ” ë©”ì†Œë“œë¥¼ ìƒì„±ìë¥¼ í†µí•´ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ í†µí•´ ì •ì˜(ì†ì„±ìœ¼ë¡œ ì •ì˜)
    ```js
    class Validator {
      contructor() {
        this.setInvalidMessage = field => `${field}${this.message}`;
      }
    }
    ```

    ì–´ë–¤ ë©”ì†Œë“œëŠ” ì†ì„±ìœ¼ë¡œ, ë‹¤ë¥¸ ë©”ì†Œë“œëŠ” í´ë˜ìŠ¤ ë©”ì†Œë“œë¡œ ì„¤ì •ë˜ê¸° ë•Œë¬¸ì— ë¹„ì¶”í•˜ëŠ” ë°©ë²•
2. `this`ì— ì ‘ê·¼í•˜ëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë©”ì†Œë“œì—ì„œ í•´ë‹¹ ë©”ì†Œë“œë¥¼ `bind(this)`í•˜ì—¬ í˜¸ì¶œ
    ```js
    class Validator {
      setInvalidMessages(...fields) {
        return fields.map(this.setInvalidMessage.bind(this));
      }
    }
    ```

    ë³´í†µ ì´ë ‡ê²Œ í•´ê²°í•œë‹¤.   
    ê·¸ëŸ°ë° í˜¸ì¶œí•  ë•Œë§ˆë‹¤ `bind()`í•´ì£¼ì–´ì•¼ í•´ì„œ, ì†ì„±ì— `bind()`ë¥¼ ì„¤ì •í•´ì„œ ì—¬ëŸ¬ ë²ˆ ì„¤ì •í•´ì£¼ì–´ì•¼ í•˜ëŠ” ê²ƒì„ í”¼í•  ìˆ˜ ìˆë‹¤.

    ```js
    class Validator {
      constructor() {
        this.setInvalidMessage = this.setInvalidMessage.bind(this);
      }

      setInvalidMessages(...fields) {
        return fields.map(this.setInvalidMessage);
      }
    }
    ```
3. ìƒì„±ì ë°–ì—ì„œ í´ë˜ìŠ¤ ì†ì„± ì„¤ì •
    babel 7.0ë¶€í„° ë„ì….
    í™”ì‚´í‘œ í•¨ìˆ˜ ì‚¬ìš©í•˜ë©´ this ë°”ì¸ë”©ì´ ì—†ì–´ì„œ ë¬¸ì œ í•´ê²°.
    ```js
    class Validator {
      setInvalidMessage = field => `${field}${this.message}`;
      setInvalidMessages(...fields) {
        return fields.map(this.setInvalidMessage);
      }
    }
    ```


### í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œëŠ” `[[Prototpe]]`ì— ì¡´ì¬í•œë‹¤


â“ ê·¼ë° context binding, this bindingì€ ì–´ë–»ê²Œ ê°€ëŠ¥í•œê±´ì§€


* * *
### ì½ì–´ë³¼ ìë£Œ
* [MDN í´ë˜ìŠ¤ ê°œìš”](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Classes#Sub_classing_with_extends)
* [React Binding Patterns: 5 Approaches for Handling `this`](https://medium.com/free-code-camp/react-binding-patterns-5-approaches-for-handling-this-92c651b5af56)


