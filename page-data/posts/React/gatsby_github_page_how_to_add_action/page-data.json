{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/React/gatsby_github_page_how_to_add_action","result":{"pageContext":{"html":"<p>현재 gatsby로 github.io를 생성하여 개발 중입니다.<br>\n그런데 push 할 때마다 빌드하고 배포하는 것이 번거러워 찾아보니 Github Action으로 CI를 만드는 것이 있더라구요!<br>\n바로 적용을 해보았습니다.   </p>\n<p>먼저 보통 github page의 url은 제 페이지처럼<br>\n<a href=\"https://eun-seong.github.io/TIL/\"><code>https://eun-seong.github.io/TIL/</code></a><br>\n이렇게 생겼을 것입니다.   </p>\n<p>혹은 뒤에 repository 이름이 없는 <code>username.github.io</code>로만 구성이 되어 있기도 합니다.</p>\n<h4>1. <code>gatsby-config.js</code> 파일 수정</h4>\n<p>저처럼 url 뒤에 repo 이름이 붙는 페이지는 개츠비 프로젝트의 gatsby-config.js 파일에 <code>pathPrefix</code>를 추가로 설정을 해주어야 합니다.\n형식은 <code>pathPrefix: '/reponame'</code> 로 넣으시면 됩니다.<br>\n저는 개츠비의 repository 이름이 <code>TIL</code> 이기 때문에 아래처럼 작성하였습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">path</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">require</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;path&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">module</span><span class=\"mtk1\">.</span><span class=\"mtk10\">exports</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">pathPrefix:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;/TIL&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">siteMetadata:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  \t...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">plugins:</span><span class=\"mtk1\"> [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span></code></pre>\n<p>그리고 빌드를 할 때 아래처럼 실행해야 합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"shell\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ gatsby build --prefix-path</span></span></code></pre>\n<p>이렇게 하지 않으면 로컬에서는 잘 실행되는 듯 하지만, 깃에 배포할 때 루트 디렉토리가 잘못 설정되어 404 오류가 발생합니다.</p>\n<h4>2 deploy.yml 파일 생성</h4>\n<p>이제 프로젝트의 루프 폴더에 <code>.github/workflows</code> 폴더를 생성하고 그 안에 <code>deploy.yml</code> 파일을 생성합니다.   </p>\n<p>이 파일에 들어갈 내용을 한 번 살펴 볼게요.   </p>\n<p><code>.github/workflows/deploy.yml</code></p>\n<pre class=\"grvsc-container default-dark\" data-language=\"yml\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">build gatsby</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">on</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">push</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">branches</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      - </span><span class=\"mtk8\">master</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">jobs</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">build</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">runs-on</span><span class=\"mtk1\">: </span><span class=\"mtk8\">ubuntu-latest</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">steps</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      - </span><span class=\"mtk4\">uses</span><span class=\"mtk1\">: </span><span class=\"mtk8\">actions/checkout@v1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      - </span><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">Setup Node</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">uses</span><span class=\"mtk1\">: </span><span class=\"mtk8\">actions/setup-node@v1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">with</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk4\">node-version</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&#39;14.x&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      - </span><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">Cache node_modules</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">uses</span><span class=\"mtk1\">: </span><span class=\"mtk8\">actions/cache@v1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">with</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk4\">path</span><span class=\"mtk1\">: </span><span class=\"mtk8\">node_modules</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk4\">key</span><span class=\"mtk1\">: </span><span class=\"mtk8\">${{runner.OS}}-build-${{hashFiles(&#39;**/yarn.lock&#39;)}}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk4\">restore-keys</span><span class=\"mtk1\">: </span><span class=\"mtk15\">|</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk8\">            ${{ runner.OS }}-build-${{ runner.OS }}-</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      - </span><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">Install dependencies</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">run</span><span class=\"mtk1\">: </span><span class=\"mtk8\">yarn install --prod --pure-lockfile</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      - </span><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">Build</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">run</span><span class=\"mtk1\">: </span><span class=\"mtk8\">yarn build --prefix-paths</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">env</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"28\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk4\">NODE_ENV</span><span class=\"mtk1\">: </span><span class=\"mtk8\">production</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"29\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      - </span><span class=\"mtk4\">uses</span><span class=\"mtk1\">: </span><span class=\"mtk8\">peaceiris/actions-gh-pages@v2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"30\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">env</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"31\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk4\">GITHUB_TOKEN</span><span class=\"mtk1\">: </span><span class=\"mtk8\">${{ secrets.GITHUB_TOKEN }}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"32\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk4\">PUBLISH_BRANCH</span><span class=\"mtk1\">: </span><span class=\"mtk8\">gh-pages</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"33\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk4\">PUBLISH_DIR</span><span class=\"mtk1\">: </span><span class=\"mtk8\">./public</span></span></span></code></pre>\n<p>하나씩 천천히 살펴봅시다.   </p>\n<ul>\n<li><code>name</code> : Action의 이름, 자신이 알아보기 편한 것으로 수정하셔도 됩니다.</li>\n<li><code>on</code> : 액션이 실행될 이벤트, 저는 <code>master</code> 브랜치에서 <code>push</code>할 때 이벤트가 동작합니다. 다른 브랜치 혹은 <code>pull</code> 할 때 하고 싶은 분들은 밑에 추가로 써주시면 됩니다.</li>\n<li>\n<p><code>jobs</code> : 실행할 명령어</p>\n<ul>\n<li><code>runs-on</code> : 수행될 환경, 가장 최신의 우분투로 설정하였습니다.</li>\n<li>\n<p><code>steps</code> : 수행할 목록, 적힌 순서대로 실행합니다.</p>\n<ul>\n<li><code>uses</code> : 다른 분들이 이미 만들어놓은 Action 입니다.</li>\n<li><code>name</code> : 액션의 이름, 없어도 무방합니다.</li>\n<li><code>run</code> : 명령어</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>제가 설정한 액션들의 차례는 아래와 같습니다.</p>\n<ol>\n<li><code>actions/checkout@v1</code>, 브랜치 checkout</li>\n<li><code>actions/setup-node@v1</code> node 세팅</li>\n<li><code>actions/cache@v1</code> node_modules를 캐싱하여 액션의 속도를 높여줍니다.</li>\n<li><code>Install dependencies</code> dependency를 설치합니다.</li>\n<li><code>Build</code> 빌드(Build)</li>\n<li><code>peaceiris/actions-gh-pages@v2</code> 배포(Deploy)</li>\n</ol>\n<p>여기서 제가 했던 실수는 5번 빌드 입니다.<br>\n앞서 언급했듯이 repository 루트를 설정하는 것을 몰라서 삽질했네용...   </p>\n<p>자 모두 완료되었으면 다음으로 넘어가 봅시다.</p>\n<h4>Personal Access Token(PAT) 생성하기</h4>\n<p>자신의 깃허브로 들어가서<br>\nProfile Settings -> Developer Settings -> Personal access token<br>\n으로 이동합니다.   </p>\n<p>위에<br>\nGenerate new token<br>\n버튼을 클릭합니다.   </p>\n<p>Note는 토큰의 이름이므로 자신이 하고 싶은 이름으로 설정하시면 됩니다.<br>\nscope으로는 <code>repo</code>만 설정해주었습니다.   </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/TIL/static/ea1c3ce0a50a3363ca5764e3554effd5/73a2e/img_gatsby_github_page_action_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABZklEQVQoz21R2W6DQAzM//9cquYlSlCANtwEwt43HVilIi0jC9msxx7bh8cwtH3fd11R1V/3smraql6srLsS37IpqraomrJuiuVPV5Rt/l3c7vckqw7KaqGlUcIaaa10VsMxRmpASiuFsdZo5Z2CA9cZjweFZBcO3od5BReIHRwh5XMilFJCKHzvgvMeT875aDHfew/yGoTAGeNCIASBMkoZn5gmXE1sMegwK6yxYW2HYi/yBpzz5zRBJDRFC2H+j30yYXwYn0YbKSUXmksnlMOEYX6rsk+W2mJivEHqNBGU8OGtd4z2yc7ZYRwxHsYchxFTzHvYLGwDHIQQgiugMxbOGMO2wwa//ffIxgzDgIVF2dg7JRQVI+GNDOl/quIsff9AtlJqHLF4gi9KYIXLrV8qFtm7wyA16uc4vRBa6dj5Dw5pmmZZlm6QJMnx+HE+n6/X6+nzdLlc8jzPVsSEW5rWdd113Q8Ml/HttkhUmQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_gatsby_github_page_action_1\"\n        title=\"img_gatsby_github_page_action_1\"\n        src=\"/TIL/static/ea1c3ce0a50a3363ca5764e3554effd5/fcda8/img_gatsby_github_page_action_1.png\"\n        srcset=\"/TIL/static/ea1c3ce0a50a3363ca5764e3554effd5/12f09/img_gatsby_github_page_action_1.png 148w,\n/TIL/static/ea1c3ce0a50a3363ca5764e3554effd5/e4a3f/img_gatsby_github_page_action_1.png 295w,\n/TIL/static/ea1c3ce0a50a3363ca5764e3554effd5/fcda8/img_gatsby_github_page_action_1.png 590w,\n/TIL/static/ea1c3ce0a50a3363ca5764e3554effd5/efc66/img_gatsby_github_page_action_1.png 885w,\n/TIL/static/ea1c3ce0a50a3363ca5764e3554effd5/c83ae/img_gatsby_github_page_action_1.png 1180w,\n/TIL/static/ea1c3ce0a50a3363ca5764e3554effd5/73a2e/img_gatsby_github_page_action_1.png 1439w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>  </p>\n<p>그럼 이렇게 생성된 토큰이 보입니다. <strong>이 토큰은 잘 복사를 해두세요!</strong> 이 페이지를 한 번 나가면 다시 생성해야 합니다.   </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/TIL/static/e0fa42275fc9e71ff427a40fc840016b/73a2e/img_gatsby_github_page_action_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB50lEQVQ4y62Tb28SQRDG76ML3BXa2sQEjZVSrhSin0MTfWWTVptoFDiSEl9IPQ64/Xt79zizFquiCS+85HczOzv77N7cbOBKB+sKlGSlUhBSQ2kDSfywluIWSrFfeF8b631leFxgtRZY5DnmqURw1G6j1mwh2ttDSETNJvYPD9E6OLizD9GIWqjXQ9TCJh40IoRR5P161EQj3EeNYjVad/SojWAwfIGz/hDdeIDHx6d48rSD3tkA/cFznNMc0437OD7p4Vn3jpMYnW5MfuzHndMY3d455Q4R4D8/gbUWzjm4osAyy5ALgYL8tdBI1/csiHmmMF8aZLn1LCXVj+B81jDGICjL0itXVeUnOMjPlzTHy8sRXl2N8OY6wWvi/U2K0a3E5685xt8UpguLm4wOVFZ+DYveC/5x9JVY4eLqApfv3uLjp2t8INLVLWwlIe0KwiwhdAZFeXyYbUEKbmB56gjk5i9FomlrCwihoJWGIbuDIKjXqKakKJTDmurECO18D3JZuPZMQb26kyA3LRc+J0FG6NJvwov4hBvRLUF+cYCFN/BY0s3I1orECuTSessxFtF8i/hzNUG3a7OGf+q/+5A2NbZE4ahmrvJ2pz6cTCaYTqdIkuQ3OD4aJz8Zj5OtnF+ZzWbefgeTksMrAn5CIQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_gatsby_github_page_action_2\"\n        title=\"img_gatsby_github_page_action_2\"\n        src=\"/TIL/static/e0fa42275fc9e71ff427a40fc840016b/fcda8/img_gatsby_github_page_action_2.png\"\n        srcset=\"/TIL/static/e0fa42275fc9e71ff427a40fc840016b/12f09/img_gatsby_github_page_action_2.png 148w,\n/TIL/static/e0fa42275fc9e71ff427a40fc840016b/e4a3f/img_gatsby_github_page_action_2.png 295w,\n/TIL/static/e0fa42275fc9e71ff427a40fc840016b/fcda8/img_gatsby_github_page_action_2.png 590w,\n/TIL/static/e0fa42275fc9e71ff427a40fc840016b/efc66/img_gatsby_github_page_action_2.png 885w,\n/TIL/static/e0fa42275fc9e71ff427a40fc840016b/c83ae/img_gatsby_github_page_action_2.png 1180w,\n/TIL/static/e0fa42275fc9e71ff427a40fc840016b/73a2e/img_gatsby_github_page_action_2.png 1439w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>  </p>\n<h4>Secret 추가하기</h4>\n<p>이제 자신의 개츠비 repo로 이동합니다.<br>\nrepository Settings -> Secrets   </p>\n<p>New repository secret 버튼을 누릅니다.<br>\nName에 이름을 설정하시고, 아까 복사해두었던 토큰을 Value에 붙여넣습니다.<br>\n저는 Name을 <code>GITHUB_TOKEN</code> 으로 하였습니다.</p>\n<p>이제 준비는 다 되었습니다!</p>\n<h4>push 하기</h4>\n<p>이제 프로젝트 터미널로 이동하여 git에 push를 합니다.<br>\n액션이 잘 수행되었는지 확인하려면 해당 레포지토리의 Action으로 들어가시면 됩니다.   </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/TIL/static/1157e77ab2a7f9447aaa9c7fec89b51c/73a2e/img_gatsby_github_page_action_3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB1ElEQVQoz6VS2W7aQBT1twfbYJaiAq7dAgalee0HtP2FSiXwQmnjLBKkEGOwzXj2ce8YEpSqbz06Ho9G99zlzBhMcCaEFAITkh5QTuiJmAExhj3PCcOEwQYTjjBPMrQ7ZE8xMtquazqOXatZtSqs9Waz3mg0Wi2n2baqddO0L2znwrStql2xHbPmWHajYlUrjtPuuEZ/eNnzRx1/1PX6PX84HF8NgstgfBWMP3ofgp7Xd33gADZd13/b9Tqu33333vX6g2BkFP8BQwp++ztdPKLFYz69z5J9Gm+3OcZCSg4QZ4IxUoI5JaSklEJl9enbrvV58+Zr1PwSPaWMYPDraOIrQgJWpoFVljDgA32h5LETzOg2SQjhIH+h9pnCdWjPM5SjHFPOT2IFalXAD1bMaRSDPGUloCBkZFzJU/ICoRzOCy1Rx8pnEEHj/Q4iKIUYPbQWi7M4z0HM/y2mgiVZRgjF8Gig+1JMmIIOoC8t1pW5UqUYnFPPgNkpp/EOkMT7fZYdwGOIwlSyMkq3fUDQFMyqZ/777hinmKjXZ0KnfZ6L0tKl8p7DMLx9wd3dzWJx/X0ync6Ak8n1bDabz+c/foa/bsLlchlF0f3Dw2q12mw26/X6D1IqwPkQJMLWAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_gatsby_github_page_action_3\"\n        title=\"img_gatsby_github_page_action_3\"\n        src=\"/TIL/static/1157e77ab2a7f9447aaa9c7fec89b51c/fcda8/img_gatsby_github_page_action_3.png\"\n        srcset=\"/TIL/static/1157e77ab2a7f9447aaa9c7fec89b51c/12f09/img_gatsby_github_page_action_3.png 148w,\n/TIL/static/1157e77ab2a7f9447aaa9c7fec89b51c/e4a3f/img_gatsby_github_page_action_3.png 295w,\n/TIL/static/1157e77ab2a7f9447aaa9c7fec89b51c/fcda8/img_gatsby_github_page_action_3.png 590w,\n/TIL/static/1157e77ab2a7f9447aaa9c7fec89b51c/efc66/img_gatsby_github_page_action_3.png 885w,\n/TIL/static/1157e77ab2a7f9447aaa9c7fec89b51c/c83ae/img_gatsby_github_page_action_3.png 1180w,\n/TIL/static/1157e77ab2a7f9447aaa9c7fec89b51c/73a2e/img_gatsby_github_page_action_3.png 1439w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>  </p>\n<p>저는 또 다른 이유로도 실패를 계속 했었지만...<br>\n진행이 되고 있다면 in progress 로 표시가 됩니다.   </p>\n<p>해당 action을 클릭해서 들어가보면, 진행 중인 작업을 볼 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/TIL/static/3eb3f063654e04a1f4070efcbdd7570d/73a2e/img_gatsby_github_page_action_4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACF0lEQVQoz6WR22/SYBjG+y94YYxjDtjKoZwRMvGYTBONmwqO0zgVBnPeu6iLl4OegGCiqesYkK5m6l+FCVcaEwVKaaGl8wOMTrzYhW9+efJ8yfd875v3g5SRIiuKPByIktTtCR2+B7TLC4I46EtDcazy2IyRAX1R7vDCjx7/7Xsfek3TBYoiSBIjCYwkqVKJKhaL5TJVrmBEsZDH93Bqr4BjBJ7HqQJBYVgpjxN5kqq8oaE6e8zUuP0axxw2Dmos+/5TgztmuY8s96FaP9qvNphqnak2gKGZw7fvDmimSjM1cGwccdDJfxT0pfO13W7zPN/t8n2hf6KOzszIsixJElBIFMXRaBxQVRUoWaqENpJxdDOaSEfi6GnCsVQczaay24n0VmgjtfPyFdTu8UMZLHwEFITDMXROa9AbrRqdQaM3znBp0ayFLVqD5bxGd+feGiQOJAW0VlVl0h/NPXV4fL6bt71XbwFjsrn/wuoyWl2I3a2FkTV/EJrO/HtsNLtt9/iu3FhBHJ4lsx1GHP8C8vN60/2Hj2fDycyW0eZ2L18HlxZNtjPCiqKok5q+gm4+Mds9Tq/P6fFZXV6DZTznDGb75QUYWX20/uefp52jyQxscTm918ClhSXk9LbmdIaLWhgA/LkL8yt3V6Fms/l5UsC0Wq2dF7sPAqFgJOZfDweC0UDoF/5gJBJPJdO5RDqbzOSAf/Z89yfkTbwLynhUqAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_gatsby_github_page_action_4\"\n        title=\"img_gatsby_github_page_action_4\"\n        src=\"/TIL/static/3eb3f063654e04a1f4070efcbdd7570d/fcda8/img_gatsby_github_page_action_4.png\"\n        srcset=\"/TIL/static/3eb3f063654e04a1f4070efcbdd7570d/12f09/img_gatsby_github_page_action_4.png 148w,\n/TIL/static/3eb3f063654e04a1f4070efcbdd7570d/e4a3f/img_gatsby_github_page_action_4.png 295w,\n/TIL/static/3eb3f063654e04a1f4070efcbdd7570d/fcda8/img_gatsby_github_page_action_4.png 590w,\n/TIL/static/3eb3f063654e04a1f4070efcbdd7570d/efc66/img_gatsby_github_page_action_4.png 885w,\n/TIL/static/3eb3f063654e04a1f4070efcbdd7570d/c83ae/img_gatsby_github_page_action_4.png 1180w,\n/TIL/static/3eb3f063654e04a1f4070efcbdd7570d/73a2e/img_gatsby_github_page_action_4.png 1439w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>  </p>\n<p>실패했다면 해당 명령어를 클릭하여 오류 메세지를 확인해보시고,<br>\n성공했다면 축하드립니다! 이제 빌드/배포를 직접하지 않아도 push만 하면 자동으로 실행됩니다.   </p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","title":"Github Page에 Git Action으로 개츠비 빌드/배포 자동화하기","date":"Jan 15, 2021"}},"staticQueryHashes":["3649515864"]}