{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/Kafka/kafka_spring_kafka_first_sample_project","result":{"pageContext":{"html":"<ul>\n<li><a href=\"https://github.com/eun-seong/spring-kafka-demo\">Github Repo</a></li>\n</ul>\n<h4>실행 방법</h4>\n<ol>\n<li>\n<p>kafka 실행   </p>\n<pre class=\"grvsc-container default-dark\" data-language=\"shell\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ bin/zookeeper-server-start.sh config/zookeeper.properties</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">$ bin/kafka-server-start.sh config/server.properties</span></span></code></pre>\n</li>\n<li>\n<p>스프링 서버 실행   </p>\n<pre class=\"grvsc-container default-dark\" data-language=\"shell\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ mvn spring-boot:run</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">$ curl http://localhost:8080/start</span></span></code></pre>\n</li>\n</ol>\n<hr>\n<h3>Spring Reactor</h3>\n<ul>\n<li><code>Mono</code> : 한 개의 값을 전달하는 reactor 객체</li>\n<li>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.htm\"><code>Flux</code></a> : 여러 개의 값을 전달하는 reactor 객체</p>\n<ul>\n<li><code>map()</code> : <code>Flux</code> 데이터를 1-1 방식으로 변환한다. 인자로는 <code>Flux</code>의 타입을 받는다.</li>\n<li><code>flatMap()</code> : <code>Flux</code> 데이터를 1-N 방식으로 변환하여 시퀀스를 생성한다. 인자로는 <code>Flux</code>의 타입을 받는다.</li>\n<li><code>donOnNext()</code> : <code>Flux</code>가 Subscriber에 next 신호를 발생할 때 호출된다. 인자로는 <code>Flux</code>의 타입을 받는다.</li>\n</ul>\n</li>\n</ul>\n<h3><code>pom.xml</code></h3>\n<details>\n<summary>Code 보기</summary>\n<pre class=\"grvsc-container default-dark\" data-language=\"xml\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;?</span><span class=\"mtk4\">xml</span><span class=\"mtk12\"> version</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;1.0&quot;</span><span class=\"mtk12\"> encoding</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;UTF-8&quot;</span><span class=\"mtk17\">?&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">project</span><span class=\"mtk1\"> </span><span class=\"mtk12\">xmlns</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;http://maven.apache.org/POM/4.0.0&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">xmlns:xsi</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">         </span><span class=\"mtk12\">xsi:schemaLocation</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">modelVersion</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">4.0.0</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">modelVersion</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">parent</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">org.springframework.boot</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">spring-boot-starter-parent</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">version</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">2.2.1.RELEASE</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">version</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">relativePath</span><span class=\"mtk17\">/&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">&lt;!-- lookup parent from repository --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">parent</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">com.nhn.forward2019</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">reactive-kafka</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">version</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">0.0.1-SNAPSHOT</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">version</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">name</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">reactive-kafka</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">name</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">description</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">Demo project for Spring Boot</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">description</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">properties</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">java.version</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">11</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">java.version</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">properties</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">dependencies</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">dependency</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">org.springframework.boot</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">spring-boot-starter-webflux</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">dependency</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">&lt;!-- https://mvnrepository.com/artifact/io.projectreactor.kafka/reactor-kafka --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">dependency</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">io.projectreactor.kafka</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">reactor-kafka</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">version</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">1.2.0.RELEASE</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">version</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">dependency</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">&lt;!-- https://mvnrepository.com/artifact/org.springframework.kafka/spring-kafka-test --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">dependency</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">org.springframework.kafka</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">spring-kafka</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">version</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">2.3.3.RELEASE</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">version</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">dependency</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">dependency</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">org.springframework.boot</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">spring-boot-starter-test</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">scope</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">test</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">scope</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">exclusions</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">exclusion</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">org.junit.vintage</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">junit-vintage-engine</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">exclusion</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">exclusions</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">dependency</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">dependency</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">io.projectreactor</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">reactor-test</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">scope</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">test</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">scope</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">dependency</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">dependencies</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">build</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">plugins</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">plugin</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">org.springframework.boot</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">groupId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">spring-boot-maven-plugin</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">artifactId</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">plugin</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">plugins</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">build</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">project</span><span class=\"mtk17\">&gt;</span></span></span></code></pre>\n</details>\n<ul>\n<li>\n<p>io.projectreactor.kafka:reactor-kafka</p>\n<ul>\n<li>1.2.0.RELEASE</li>\n</ul>\n</li>\n<li>\n<p>org.springframework.kafka:spring-kafka</p>\n<ul>\n<li>2.3.3.RELEASE</li>\n</ul>\n</li>\n<li>org.springframework.boot:spring-boot-starter-test</li>\n</ul>\n<h3><code>KafkaManager</code></h3>\n<details>\n<summary>Code 보기</summary>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Component</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">KafkaManager</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">BOOTSTRAP_SERVERS</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;localhost:9092&quot;</span><span class=\"mtk1\">;   </span><span class=\"mtk3\">// kafka host</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Map</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">consumerProps</span><span class=\"mtk1\">;                    </span><span class=\"mtk3\">// consumer settings</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Map</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">producerProps</span><span class=\"mtk1\">;                    </span><span class=\"mtk3\">// producer settings</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">KafkaManager</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">consumerProps</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">Map</span><span class=\"mtk1\">.</span><span class=\"mtk11\">of</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ConsumerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">BOOTSTRAP_SERVERS_CONFIG</span><span class=\"mtk1\">, BOOTSTRAP_SERVERS,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ConsumerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">CLIENT_ID_CONFIG</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;consumer&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ConsumerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">GROUP_ID_CONFIG</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;group&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ConsumerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">KEY_DESERIALIZER_CLASS_CONFIG</span><span class=\"mtk1\">, </span><span class=\"mtk12\">StringDeserializer</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ConsumerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">VALUE_DESERIALIZER_CLASS_CONFIG</span><span class=\"mtk1\">, </span><span class=\"mtk12\">StringDeserializer</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ConsumerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">AUTO_OFFSET_RESET_CONFIG</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;earliest&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">producerProps</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">Map</span><span class=\"mtk1\">.</span><span class=\"mtk11\">of</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ProducerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">BOOTSTRAP_SERVERS_CONFIG</span><span class=\"mtk1\">, BOOTSTRAP_SERVERS,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ProducerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">CLIENT_ID_CONFIG</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;producer&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ProducerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">ACKS_CONFIG</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;all&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ProducerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">KEY_SERIALIZER_CLASS_CONFIG</span><span class=\"mtk1\">, </span><span class=\"mtk12\">StringSerializer</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">ProducerConfig</span><span class=\"mtk1\">.</span><span class=\"mtk12\">VALUE_SERIALIZER_CLASS_CONFIG</span><span class=\"mtk1\">, </span><span class=\"mtk12\">StringSerializer</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Flux</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">SenderResult</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt;&gt; </span><span class=\"mtk11\">producer</span><span class=\"mtk1\">(</span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Publisher</span><span class=\"mtk1\">&lt;</span><span class=\"mtk4\">?</span><span class=\"mtk1\"> </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk10\">SenderRecord</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt;&gt; </span><span class=\"mtk12\">publisher</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">SenderOptions</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">options</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">SenderOptions</span><span class=\"mtk1\">.</span><span class=\"mtk11\">create</span><span class=\"mtk1\">(producerProps);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">KafkaSender</span><span class=\"mtk1\">.</span><span class=\"mtk11\">create</span><span class=\"mtk1\">(options)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">send</span><span class=\"mtk1\">(publisher);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Flux</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">ReceiverRecord</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt;&gt; </span><span class=\"mtk11\">consumer</span><span class=\"mtk1\">(</span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">topic</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ReceiverOptions</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">options</span><span class=\"mtk1\"> = ReceiverOptions.&lt;String, String&gt;</span><span class=\"mtk11\">create</span><span class=\"mtk1\">(consumerProps)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">subscription</span><span class=\"mtk1\">(</span><span class=\"mtk12\">List</span><span class=\"mtk1\">.</span><span class=\"mtk11\">of</span><span class=\"mtk1\">(topic));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">KafkaReceiver</span><span class=\"mtk1\">.</span><span class=\"mtk11\">create</span><span class=\"mtk1\">(options)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">receive</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</details>\n<ul>\n<li>\n<p>ProducerConfig</p>\n<ul>\n<li><code>BOOTSTRAP_SERVERS_CONFIG</code> : kafka server</li>\n<li><code>CLIENT_ID_CONFIG</code> : client id</li>\n<li><code>ACKS_CONFIG</code> : 프로듀서가 메세지를 보내고 그 메세지를 kafka가 잘 받았는지 확인할 것인지 아닌지</li>\n<li><code>KEY_SERIALIZER_CLASS_CONFIG</code> : broker에게 보낼 객체를 바이트 배열로 변환하기 위해 serializing을 한다.</li>\n<li><code>VALUE_SERIALIZER_CLASS_CONFIG</code> : broker에게 보낼 객체를 바이트 배열로 변환하기 위해 serializing을 한다.</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://kafka.apache.org/24/javadoc/org/apache/kafka/clients/consumer/ConsumerConfig.html\"><code>ConsumerConfig</code></a></p>\n<ul>\n<li><code>BOOTSTRAP_SERVERS_CONFIG</code> : kafka server</li>\n<li><code>CLIENT_ID_CONFIG</code> : client id</li>\n<li><code>GROUP_ID_CONFIG</code> : group id</li>\n<li><code>KEY_DESERIALIZER_CLASS_CONFIG</code> : broker가 보낸 바이트 배열을 객체로 변환하기 위해 deserializing을 한다.</li>\n<li><code>VALUE_DESERIALIZER_CLASS_CONFIG</code> : broker가 보낸 바이트 배열을 객체로 변환하기 위해 deserializing을 한다.</li>\n<li>\n<p><code>AUTO_OFFSET_RESET_CONFIG</code> : auto.offset.reset</p>\n<ul>\n<li>latest : 가장 마지막 offset부터</li>\n<li>earliest : 가장 처음 offset부터</li>\n<li>none : 해당 consumer group이 가져가고자 하는 topic의 consuer offset 정보가 없으면 exception을 발생시킴.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4><code>producer()</code></h4>\n<ul>\n<li>인자로 토픽 이름을 받아 <code>SenderOptions</code> 옵션을 생성한다.</li>\n<li>\n<p><code>KafkaSender.create(SenderOptions&#x3C;K,V> options)</code></p>\n<ul>\n<li>kafka에 레코드 시퀀스를 보내고 각 레코드의 파티션과 오프셋이 포함된 레코드 메타데이터 응답의 Flux를 반환한다.</li>\n<li>응답은 각 파티션에 대해 재시도 없이 순서가 지정되지만, 다른 파티션의 응답은 요청과 다른 순서로 인터리브될 수 있댜.</li>\n<li>추가 상관 관계 메타데이터는 Kafka로 전송되지 않지만 요청에 대한 응답을 일치시키기 위해 응답 Flux에 포함되어 있는 SenderRecord에서 전달될 수 있다.</li>\n</ul>\n</li>\n</ul>\n<h4><code>consumer()</code></h4>\n<ul>\n<li>인자로 토픽 이름을 받아 <code>ReceiverOptions</code> 옵션을 생성한다.</li>\n<li>\n<p><code>KafkaReceiver.create(ReceiverOptions&#x3C;K,V> options)</code></p>\n<ul>\n<li>레코드나 receiver에 설정된 파티션을 컨슈밍하는 Kafka receiver를 시작한다.</li>\n<li>레코드는 kafka에서 소비되고 Flux에서 요청을 할 때 Flux가 반환된다.</li>\n<li>Flux가 종료될 때 kafka 컨슈머도 종료된다.</li>\n</ul>\n</li>\n</ul>\n<h3>DemoController</h3>\n<details>\n<summary>Code 보기</summary>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">RestController</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">RequestMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">DemoController</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">DemoService</span><span class=\"mtk1\"> </span><span class=\"mtk12\">service</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">AtomicBoolean</span><span class=\"mtk1\"> </span><span class=\"mtk12\">running</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">DemoController</span><span class=\"mtk1\">(</span><span class=\"mtk10\">DemoService</span><span class=\"mtk1\"> </span><span class=\"mtk12\">service</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">service</span><span class=\"mtk1\"> = service;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">running</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">AtomicBoolean</span><span class=\"mtk1\">(</span><span class=\"mtk4\">false</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">GetMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/start&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Mono</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt; </span><span class=\"mtk11\">start</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">running</span><span class=\"mtk1\">.</span><span class=\"mtk11\">compareAndSet</span><span class=\"mtk1\">(</span><span class=\"mtk4\">false</span><span class=\"mtk1\">, </span><span class=\"mtk4\">true</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk15\">?</span><span class=\"mtk1\"> </span><span class=\"mtk12\">service</span><span class=\"mtk1\">.</span><span class=\"mtk11\">start</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk15\">:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Mono</span><span class=\"mtk1\">.</span><span class=\"mtk11\">just</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Already Running&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">GetMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/stop&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Mono</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt; </span><span class=\"mtk11\">stop</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">running</span><span class=\"mtk1\">.</span><span class=\"mtk11\">compareAndSet</span><span class=\"mtk1\">(</span><span class=\"mtk4\">true</span><span class=\"mtk1\">, </span><span class=\"mtk4\">false</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk15\">?</span><span class=\"mtk1\"> </span><span class=\"mtk12\">service</span><span class=\"mtk1\">.</span><span class=\"mtk11\">stop</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk15\">:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Mono</span><span class=\"mtk1\">.</span><span class=\"mtk11\">just</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Not Running Now&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</details>\n<ul>\n<li>\n<p><code>@RestController</code></p>\n<ul>\n<li>View를 반환하는 <code>@Controller</code>에 Data를 반환하는 <code>@ResponseBody</code>가 추가된 어노테이션</li>\n<li>json 형태로 객체 데이터를 반환한다.</li>\n</ul>\n</li>\n<li>\n<p><code>@RequestMapping({NAME})</code></p>\n<ul>\n<li><code>NAME</code>과 일치하는 path는 모두 해당 컨트롤러로 전달된다.</li>\n</ul>\n</li>\n<li>\n<p><code>@GetMapping({NAME})</code></p>\n<ul>\n<li>컨트롤러의 path 뒤에 <code>NAME</code>과 일치하는 path는 모두 해당 메소드로 전달된다.</li>\n</ul>\n</li>\n<li>\n<p><code>Atomic</code> Type</p>\n<ul>\n<li>멀티스레드에서 동시성 문제를 해결할 수 있는 타입이다.</li>\n<li>해당 프로젝트에서는 spring 서버의 상태를 동기화하기 위해 사용되었다.</li>\n</ul>\n</li>\n<li>콘솔에서 실행할 때 맵핑메소드가 리턴하는 값이 콘솔에 출력된다.</li>\n</ul>\n<h3>DemoService</h3>\n<details>\n<summary>Code 보기</summary>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Service</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">DemoService</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Logger</span><span class=\"mtk1\"> </span><span class=\"mtk12\">logger</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">LoggerFactory</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getLogger</span><span class=\"mtk1\">(</span><span class=\"mtk12\">DemoService</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">SERVICENAME</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;demo&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">KafkaManager</span><span class=\"mtk1\"> </span><span class=\"mtk12\">kafkaManager</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">Disposable</span><span class=\"mtk1\"> </span><span class=\"mtk12\">disposable</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">DemoService</span><span class=\"mtk1\">(</span><span class=\"mtk10\">KafkaManager</span><span class=\"mtk1\"> </span><span class=\"mtk12\">kafkaManager</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">kafkaManager</span><span class=\"mtk1\"> = kafkaManager;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Mono</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt; </span><span class=\"mtk11\">start</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">consume</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">produce</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Mono</span><span class=\"mtk1\">.</span><span class=\"mtk11\">just</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;START&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Mono</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt; </span><span class=\"mtk11\">stop</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">dispose</span><span class=\"mtk1\">(disposable);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Mono</span><span class=\"mtk1\">.</span><span class=\"mtk11\">just</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;STOP&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">dispose</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Disposable</span><span class=\"mtk1\"> </span><span class=\"mtk12\">disposable</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (disposable != </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> &amp;&amp; !</span><span class=\"mtk12\">disposable</span><span class=\"mtk1\">.</span><span class=\"mtk11\">isDisposed</span><span class=\"mtk1\">()) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">disposable</span><span class=\"mtk1\">.</span><span class=\"mtk11\">dispose</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">    /***** produce *****/</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">produce</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Flux</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">SenderRecord</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt;&gt; </span><span class=\"mtk12\">records</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">generateSource</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">doOnNext</span><span class=\"mtk1\">(comp </span><span class=\"mtk4\">-&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">logger</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Create - name: {}</span><span class=\"mtk6\">\\t</span><span class=\"mtk8\">major: {}&quot;</span><span class=\"mtk1\">,</span><span class=\"mtk12\">comp</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getT1</span><span class=\"mtk1\">(), </span><span class=\"mtk12\">comp</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getT2</span><span class=\"mtk1\">()))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">map</span><span class=\"mtk1\">(Object</span><span class=\"mtk15\">::</span><span class=\"mtk1\">toString)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">map</span><span class=\"mtk1\">(i </span><span class=\"mtk4\">-&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">SenderRecord</span><span class=\"mtk1\">.</span><span class=\"mtk11\">create</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ProducerRecord</span><span class=\"mtk1\">&lt;&gt;(SERVICENAME, i, i), i));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">kafkaManager</span><span class=\"mtk1\">.</span><span class=\"mtk11\">producer</span><span class=\"mtk1\">(records)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">subscribe</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">    /***** consume *****/</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">consume</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        disposable = </span><span class=\"mtk12\">kafkaManager</span><span class=\"mtk1\">.</span><span class=\"mtk11\">consumer</span><span class=\"mtk1\">(SERVICENAME)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">subscribe</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">    /***** general *****/</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Flux</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">Tuple2</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt;&gt; </span><span class=\"mtk11\">generateSource</span><span class=\"mtk1\">(){</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Flux</span><span class=\"mtk1\">.</span><span class=\"mtk11\">just</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">Tuples</span><span class=\"mtk1\">.</span><span class=\"mtk11\">of</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;eun&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;computer&quot;</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">Tuples</span><span class=\"mtk1\">.</span><span class=\"mtk11\">of</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;lobster&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;statistics&quot;</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">Tuples</span><span class=\"mtk1\">.</span><span class=\"mtk11\">of</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;zooho&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;computer&quot;</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">Tuples</span><span class=\"mtk1\">.</span><span class=\"mtk11\">of</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;hyeon&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;mechanical&quot;</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">Tuples</span><span class=\"mtk1\">.</span><span class=\"mtk11\">of</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;nayng&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;electronic&quot;</span><span class=\"mtk1\">))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">delayElements</span><span class=\"mtk1\">(</span><span class=\"mtk12\">Duration</span><span class=\"mtk1\">.</span><span class=\"mtk11\">ofMillis</span><span class=\"mtk1\">(</span><span class=\"mtk7\">1000</span><span class=\"mtk1\">));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</details>\n<ul>\n<li>\n<p><code>@Service</code></p>\n<ul>\n<li>해당 어노테이션을 붙인 클래스를 서비스가 된다.</li>\n<li>컨트롤러에서 서비스를 생성자 주입한다.</li>\n</ul>\n</li>\n<li>\n<p><code>start()</code> method</p>\n<ul>\n<li>서버가 동작하면 <code>consume()</code>과 <code>produce()</code> 메소드르 실행한다. </li>\n</ul>\n</li>\n</ul>\n<h4><code>produce()</code></h4>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">produce</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Flux</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">SenderRecord</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt;&gt; </span><span class=\"mtk12\">records</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">generateSource</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            .</span><span class=\"mtk11\">doOnNext</span><span class=\"mtk1\">(comp </span><span class=\"mtk4\">-&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">logger</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Create - name: {}</span><span class=\"mtk6\">\\t</span><span class=\"mtk8\">major: {}&quot;</span><span class=\"mtk1\">,</span><span class=\"mtk12\">comp</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getT1</span><span class=\"mtk1\">(), </span><span class=\"mtk12\">comp</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getT2</span><span class=\"mtk1\">()))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            .</span><span class=\"mtk11\">map</span><span class=\"mtk1\">(Object</span><span class=\"mtk15\">::</span><span class=\"mtk1\">toString)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            .</span><span class=\"mtk11\">map</span><span class=\"mtk1\">(i </span><span class=\"mtk4\">-&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">SenderRecord</span><span class=\"mtk1\">.</span><span class=\"mtk11\">create</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ProducerRecord</span><span class=\"mtk1\">&lt;&gt;(SERVICENAME, i, i), i));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">kafkaManager</span><span class=\"mtk1\">.</span><span class=\"mtk11\">producer</span><span class=\"mtk1\">(records)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            .</span><span class=\"mtk11\">subscribe</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ul>\n<li>\n<p><code>Flux</code>가 값을 1초마다 publish한다.</p>\n<ul>\n<li><code>doOnNext()</code>에서 <code>Flux</code> 객체를 받아 컨슘한 후 로그를 찍는다.</li>\n</ul>\n</li>\n<li>\n<p><code>SenderRecord.create(ProducerRecord&#x3C;topic, K, V> record, T correlationMetadata)</code></p>\n<ul>\n<li>레코드에 카프카 토픽 파티션을 추가하는 kafka sender 객체를 생성한다.</li>\n<li><code>correlationMetadata</code>는 kafka로 전송되진 않지만 <code>SenderResult</code>를 이 레코드에 일치시키기 위한 응답에 포함된 부가적인 상관 관계 메타데이터이다.</li>\n</ul>\n</li>\n<li>\n<p><code>ProducerRecord&#x3C;>(String topic, K key, V value)</code> </p>\n<ul>\n<li>kafka로 보낼 key/value 이다.</li>\n</ul>\n</li>\n<li>\n<p><code>kafkaManager.producer()</code>는 <code>Flux&#x3C;SenderRecord&#x3C;String, String>></code>를 반환한다.</p>\n<ul>\n<li><code>Flux.subscribe()</code>는 해당 <code>Flux</code>를 subscribe하고 무한대의 요구를 요청할 수 있다.</li>\n</ul>\n</li>\n</ul>\n<h4><code>consume()</code></h4>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">consume</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    disposable = </span><span class=\"mtk12\">kafkaManager</span><span class=\"mtk1\">.</span><span class=\"mtk11\">consumer</span><span class=\"mtk1\">(SERVICENAME)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            .</span><span class=\"mtk11\">subscribe</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ul>\n<li>\n<p><code>kafkaManager.producer()</code>는 <code>Flux&#x3C;ReceiverRecord&#x3C;String, String>></code>를 반환한다.</p>\n<ul>\n<li><code>Flux.subscribe()</code>는 해당 <code>Flux</code>를 subscribe하고 무한대의 요구를 요청할 수 있다.</li>\n</ul>\n</li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk17 { color: #808080; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk6 { color: #D7BA7D; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","title":"spring kafka 샘플 프로젝트","date":"Jan 26, 2021"}},"staticQueryHashes":["3649515864"]}