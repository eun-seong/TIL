{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/Java/java_gradle_nohup_excution","result":{"pageContext":{"html":"<p>서버에서 스프링 프로젝트를 주말동안 켜놓을 일이 생겼다.<br>\n예전에 파이썬 매크로를 돌릴 때는 ec2에서 tmux를 사용해서 돌려놨지만, 지금은 회사 서버라 설치를 마음대로 할 수 없는 상황이다.</p>\n<p>그렇게 구글링을 하던 중 nohup이라는 것을 사용하면 되고 마침 서버에 nohup이 설치되어 있어서 실행을 했다.</p>\n<h3>nohup으로 spring 프로젝트 실행하기</h3>\n<ol>\n<li>자신의 프로젝트 디렉토리로 이동</li>\n</ol>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ cd sampleProject</span></span></code></pre>\n<ol start=\"2\">\n<li>스프링 프로젝트 빌드</li>\n</ol>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ ./gradlew build</span></span></code></pre>\n<p>그냥 실행을 하려면 아래처럼 하면 된다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ ./gradlew run</span></span></code></pre>\n<ol start=\"3\">\n<li>nohup 실행</li>\n</ol>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ nohup java -jar {jar 파일 이름} &gt; Output.log 2&gt;&amp;1 &amp;</span></span></code></pre>\n<p>구글링을 했을 때 <code>$ nohup ./gradlew run</code>을 하면 된다고 해서 했더니 계속 안되어서 jar 파일을 실행하는 방법으로 변경했다.</p>\n<p>하나씩 설명하자면,</p>\n<ul>\n<li><code>java -jar {jar 파일 이름}</code> : jar 파일을 실행</li>\n<li><code>> Output.log</code> : 로그를 이 파일에 출력</li>\n<li><code>2>&#x26;1</code> : 표준 에러(2)를 표준출력(1)으로 보냄, 에러를 파일에 작성하라는 뜻</li>\n<li><code>&#x26;</code> : 백그라운드 실행</li>\n</ul>\n<p>정도이다.</p>\n<p>이렇게 실행을 하고 나면 터미널 창을 종료하더라도 프로세스가 죽지 않게 된다.</p>\n<p>직접 사용한 예시를 하나 들자면</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ nohup java -jar build/libs/producer-0.0.1-SNAPSHOT.jar &gt; Output.log 2&gt;&amp;1 &amp;</span></span></code></pre>\n<h3>nohup 프로세스 종료</h3>\n<p>종료할 때는 실행시킨 프로세스의 PID를 알아야 한다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ ps -ef | grep {jar 파일 이름}</span></span></code></pre>\n<p>실행한 jar 파일의 이름으로 찾으면 나온다. {} 빼고 명령어 치는거다!!</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ kill -15 PID  # 정상 종료</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">$ kill -9 PID   # 강제 종료</span></span></code></pre>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","title":"[Gradle] Spring, Java 프로젝트 nohup 실행","date":"Feb 5, 2021"}},"staticQueryHashes":["3649515864"]}